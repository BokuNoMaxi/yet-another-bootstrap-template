<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
  <f:if condition="{ratio}">
    <f:then>
      <div class="{ratio}">
        <f:render section="image" arguments="{_all}" />
      </div>
    </f:then>
    <f:else>
      <f:render section="image" arguments="{_all}" />
    </f:else>
  </f:if>
</html>

<f:section name="image">
  <div class="lightbox mb-3">
    <a href="{f:uri.image(image: image)}" data-fancybox="{gallery}" data-caption="{image.title}">
      <picture>
        <source srcset="{f:uri.image(image: image, maxWidth: 250)}" media="(max-width: 479px)">
        <source srcset="{f:uri.image(image: image, maxWidth: 512)}" media="(min-width: 480px) and (max-width: 767px)">
        <source srcset="{f:uri.image(image: image, maxWidth: 646)}" media="(min-width: 768px) and (max-width: 991px)">
        <source srcset="{f:uri.image(image: image, maxWidth: 780)}" media="(min-width: 1200px)">
        <img src="{f:uri.image(image: image)}" class="img-fluid {rounded} {thumbnail}" alt="{image.alternative}"/>
      </picture>
    </a>
  </div>
</f:section>
